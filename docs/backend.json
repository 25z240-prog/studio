
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a hostel resident.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "name": {
          "type": "string",
          "description": "The name of the user."
        },
        "email": {
          "type": "string",
          "description": "The email address of the user.",
          "format": "email"
        }
      },
      "required": [
        "id",
        "name",
        "email"
      ]
    },
    "MenuItem": {
      "title": "Menu Item",
      "type": "object",
      "description": "Represents a menu item in the hostel mess.",
      "properties": {
        "title": {
          "type": "string",
          "description": "The name of the menu item."
        },
        "category": {
          "type": "string",
          "enum": [
            "breakfast",
            "lunch",
            "snack",
            "dinner"
          ],
          "description": "The meal category (e.g., breakfast, lunch)."
        },
        "day": {
          "type": "string",
          "enum": [
            "monday",
            "tuesday",
            "wednesday",
            "thursday",
            "friday",
            "saturday",
            "sunday"
          ],
          "description": "The day of the week the item is served."
        },
        "ingredients": {
          "type": "string",
          "description": "A comma-separated list of main ingredients."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL for the menu item's image.",
          "format": "uri"
        },
        "imageHint": {
          "type": "string",
          "description": "A hint for AI image generation."
        },
        "dietaryInfo": {
          "type": "string",
          "enum": [
            "veg",
            "non-veg"
          ],
          "description": "Dietary information (e.g., veg, non-veg)."
        }
      },
      "required": [
        "title",
        "category",
        "day",
        "imageUrl",
        "imageHint",
        "dietaryInfo"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user profiles.  User IDs are used as document IDs.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier for the user."
            }
          ]
        }
      },
      {
        "path": "/menuItems/{menuItemId}",
        "definition": {
          "entityName": "MenuItem",
          "schema": {
            "$ref": "#/backend/entities/MenuItem"
          },
          "description": "Stores all available menu items for voting.",
          "params": [
            {
              "name": "menuItemId",
              "description": "The unique identifier for the menu item."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to support a hostel menu voting application. It includes a 'users' collection to store user profiles and a 'menuItems' collection to store the menu items available for voting. This structure allows for easy querying of menu items and separates user data from application data, which simplifies security rules and data management."
  }
}
